<!DOCTYPE html>
<html  lang="ro">
    <head>
        <%- include("../fragmente/head") %>     
        <link rel="stylesheet" href="/resurse/css/produse.css" type="text/css" />
        <title>Supercaruri</title>
        <script type="text/javascript" src=/resurse/js/produse.js></script>
    </head>
    <body>
    <%- include("../fragmente/header") %>

    <main>
        <div class="filtre">
        <label class="textarea-label"> Nume: <textarea id="inp-nume"></textarea></label>
        <!--<label> Maxim calorii: <input type="number" id="inp-calorii" value="10000"></label>-->
        <div> Cai putere:<!-- trebuie sa aiba acelasi name ca sa formeze un grup -->
            <p><label>Normal (&lt; 550 cp)
                <input id="i_rad1"  name="gr_rad" value="0:550" type="radio"/>
            </label></p>
            <p><label>Wow (&ge;550, &lt;800 cp)
                <input id="i_rad2"  name="gr_rad" value="550:800" type="radio"/>
            </label>
            <p><label>Mega wow (&ge;800 cp)
                <input id="i_rad3" name="gr_rad" value="800:3000" type="radio"/>
            </label>
            <p><label>Toate
                <input id="i_rad4" checked name="gr_rad" value="toate" type="radio"/>
            </label>
        </div>


        <label> Pret minim: <input type="range" id="inp-pret" value="100000" min="100000"  max="3000000" step="10000"> <span id="infoRange">(100k $)</span></label>
        <br />
        <br />
        <label>Select simplu:
            <select id="inp-categorie">
                <option id="sel-toate" selected value="toate">toate</option>
                <% for (let opt of locals.optiuni) { %>
                    <option value="<%- opt.unnest %>"><%- opt.unnest %> </option>
                <% } %>
            </select>
        </label>
        <br />
        <br />
        <label class="label-noutati">
            Noutati
            <input type="checkbox" id="inp-noutati" name="inp-noutati" value="Noutati">
        </label>
        <br />
        <br />
        
        <label>Cuvant cheie: <input type="text" id="inp-cuv-cheie"></label>
        <br />
        <br />

        <label for="inp-cap-cilind">Capacitate cilindrica (in cm<sup>3</sup>):</label>
        <input list="datalist-cap-cilind" name="inp-cap-cilind" id="inp-cap-cilind">
        <datalist id="datalist-cap-cilind">
            <option value="0 (electric)">
            <option value="1 - 3000">
            <option value="3001 - 4000">
            <option value="4001 - 5000">
            <option value="5001 - 6000">
            <option value="6001 - 8000">
        </datalist>
        <br />
        <br />

        <label for="optiuni-tuning">Choose a car:</label>
        <select name="optiuni-tuning" id="optiuni-tuning" multiple>
            <option value="niciuna" selected>Niciuna</option>
            <option value="eleron">Eleron</option>
            <option value="spoiler">Spoiler</option>
            <option value="diffuser">Diffuser</option>
        </select>

        <p>
            <button id="filtrare">Filtreaza</button> <button id="resetare">Reseteaza</button><br/>
            <button id="sortCresc">Sorteaza crescator dupa cai putere si nume</button>
            <button id="sortDescresc">Sorteaza descrescator dupa cai putere si nume</button>
        </p>
        
        <p id="p-suma">Apăsați Alt+"c" pentru suma preturilor produselor afișate. </p>
        </div>

        <section id="produse">
            <h2>Produse</h2>
            <div class="grid-produse">
                <% for( let prod of locals.produse) { %>
                    <article class="produs" >
                        <h3 class="nume">Nume: <a href="/produs/<%-prod.id %>" ><span class="val-nume"><%- prod.nume%></span></a></h3>
                        <div class="produs-flexbox">
                            <div class="col-1">
                                <div class="info-prod">
                                    <p class="pret">Pret: <span class="val-pret"><%- prod.pret.slice(0, -3) %>$</span></p>
                                    <p class="cai-putere">Cai putere: <span class="val-cai-putere"><%- prod.cai_putere %></span></p>
                                    <p class="capacitate-cilindrica">Capacitate cilindrica: <span class="val-capacitate-cilindrica"><%- prod.capacitate_cilindrica %> cm<sup>3</sup></span></p>
                                    <p class="brand">Brand: <span class="val-brand"><%- prod.brand %></span></p>
                                    <p class="tuning">Optiuni tuning: <span class="val-optiuni-tuning"><%- prod.optiuni_tuning.length != 0 ? prod.optiuni_tuning.join(", ") : "nu are"%></span></p>
                                    <p class="decapotabil">Decapotabil: <span class="val-decapotabil"><%- prod.decapotabil ? "da" : "nu" %></span></p>
                                    <p>
                                        Adaugat la:
                                        <span class="data-adaugare"><%- prod.data_adaugare.toLocaleDateString('ro-RO', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }) %> </span>
                                    </p>
                                </div>
                                <figure>
                                    <a href="/produs/<%-prod.id %>" ><img src="/resurse/imagini/produse/<%- prod.imagine %>" style="width:70%;height:auto;" alt="[imagine <%- prod.nume %>]" /></a>
                                </figure>
                                <label class="selecteaza-cos">
                                    Selectează:<br/>
                                    <input type="checkbox" class="select-cos" value="<%-prod.id %>" autocomplete="off">
                                </label>
                            </div>
                            <div class="col-2">
                                <p class="categorie">Categorie: <span class="val-categorie"><%- prod.categorie %></span></p>
                                <p class="descriere">Descriere: <span class="val-descriere"><%- prod.descriere %></span></p>
                            </div>
                        </div>
                    </article>
                <% }%>
            </div>
        </section>
    </main>

    <%- include("../fragmente/footer") %>
    </body>
</html>